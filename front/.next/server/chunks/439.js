"use strict";exports.id=439,exports.ids=[439],exports.modules={4262:(e,t,a)=>{a.d(t,{Z:()=>n});let n={src:"/_next/static/media/NEWLOGO.a5041886.png",height:322,width:290,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAICAMAAAAC2hU0AAAAVFBMVEVqAOcwBH0+B5gAAABaDdZxGvNaD8pmEO5WDNxGB61fDuFHCqthDuplHtxfDuRHCupKCbRKC8lWDc5UDsBPCr1oIsNkD+xTDMd3E/9jD/+OLOBoDPVlaQ9LAAAAF3RSTlMBIUMJ/PN+7q820rK+4sj42Inoavjz/pMKkAoAAAAJcEhZcwAACxMAAAsTAQCanBgAAAA9SURBVHicHcVHEoAgEATAETaaFVwM//+npX1pAEA3pD897TtNzHAb53Uv6COikUOpUX0Ey6XKt8C2nOXwFzVjAhnZIdGJAAAAAElFTkSuQmCC",blurWidth:7,blurHeight:8}},3608:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.d(t,{Z:()=>r});var s=a(997);a(6689);var l=a(8313),i=e([l]);l=(i.then?(await i)():i)[0];let r=({setLoading_popup_state:e,pending:t,password:a,setPassword_popup:n})=>(0,s.jsxs)("div",{className:"loading_popup",children:[t?s.jsx("p",{children:"업로드 중"}):s.jsx("p",{children:"업로드 완료 됨"}),s.jsx("br",{}),(0,s.jsxs)("p",{children:[s.jsx("span",{children:a}),"는 콘텐츠 수정시 사용되는 비밀번호 입니다. ",s.jsx("br",{}),"잘 기억해 주세요"]}),s.jsx("input",{className:"all_btn",type:"button",onClick:()=>{(0,l.sI)(a)},value:"비밀번호 복사하기",readOnly:!0}),s.jsx("button",{type:"button",className:"all_btn",onClick:()=>{confirm("비밀번호는 더이상 확인 할 수 없습니다")&&window.location.reload()},children:"닫기"})]});n()}catch(e){n(e)}})},5194:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.r(t),a.d(t,{default:()=>j});var s=a(997),l=a(6689),i=a(4074),r=a(6555),c=a(9336),o=a.n(c),d=a(3608),u=a(7882),h=a(9648),p=a(8313),_=a(7179),m=a(5676),x=a(2637);a(5295);var g=e([r,d,u,h,p,_,m,x]);[r,d,u,h,p,_,m,x]=g.then?(await g)():g;let j=()=>{let e=useLocation(),[t,a]=(0,l.useState)(""),[n,c]=(0,l.useState)(),[g,j]=(0,l.useState)(""),[A,b]=(0,l.useState)([]),[f,w]=(0,l.useState)([]),[v,y]=(0,l.useState)(!1),[C,N]=(0,l.useState)([]),[k,z]=(0,l.useState)([]),[q,S]=(0,l.useState)([null,null]),[D,E]=(0,l.useState)(!1),[R,L]=(0,l.useState)([]),U=(0,l.useRef)([]),B=(0,l.useRef)(),P=(0,l.useRef)(),M=(0,l.useRef)(),T=(0,l.useRef)(),V=(0,l.useRef)(),O=(0,l.useRef)(),F="dlworjs",K=process.env.REACT_APP_AWS_ACCESS_KEY_ID,I=process.env.REACT_APP_AWS_SECRET_ACCESS_KEY;o().config.update({region:"ap-northeast-2",accessKeyId:K,secretAccessKey:I}),(0,l.useEffect)(()=>{let t=(0,r.v4)(),n=Math.random().toString(36).substr(2,5);a(e=>t),j(e=>n),c(t=>e.state.quezeshow_type),(0,p.Md)()},[]);let H=(e,t,a)=>{e.clipboardData.files.length&&Z(e.clipboardData.files,t,a)},W=(e,t,a)=>{e.preventDefault(),Z(e.target.files,t,a)},Z=(e,t,a)=>{let n=[...e],s=new FileReader;s.readAsDataURL(n[0]),s.onload=e=>{let n=new Image;if(n.src=s.result,n.name=e.name,n.onload=()=>{X(n,t,a)},"main_img"!==a){let e=[...f];e[t].src=s.result,w(t=>[...e])}else q[1]=s.result,S(e=>[...q])}},X=(e,t,a)=>{let n=M.current,s=e.width,l=e.height;s>l?s/l<=2&&s>4e3&&(s=e.width/2,l=e.height/2):s/l<=2&&l>4e3&&(s=e.width/2,l=e.height/2),n.width=s,n.height=l,n.getContext("2d").drawImage(e,0,0,s,l);let i=n.toDataURL("image/jpeg",.5),r=window.atob(i.split(",")[1]),c=new ArrayBuffer(r.length),o=new Uint8Array(c);for(let e=0;e<r.length;e++)o[e]=r.charCodeAt(e);let d=new File([o.buffer],e.name+".jpg",{type:"image/jpeg"});"main_img"!==a?U.current[t]=d:(q[0]=d,S(e=>[...q]))},G=()=>{let e=!0;return k.map((t,a)=>{""===t&&(e=!1)}),e},J=async e=>{e.preventDefault();let t=!0;if((0,p.bg)()&&(O.current.value=(0,p.WA)()),""===B.current.value)alert("제목입력해 주세요");else if(""===O.current.value)alert("유저 아이디를 입력해 주세요");else if(G()){let e=f.map((e,a)=>"image"===e.data_type?""===e.src||"data:image/jpeg;base64,"===e.src?{data_type:e.data_type,hint:e.hint,title:e.title,text:e.text,img:!1}:{data_type:e.data_type,hint:e.hint,title:e.title,text:e.text,img:!0}:"audio"===e.data_type?(""===e.src&&(t=!1),{data_type:e.data_type,src:e.src,hint:e.hint,title:e.title,text:e.text,answer:e.answer,start:e.start,end:e.end}):"video"===e.data_type?(""===e.src&&(t=!1),{data_type:e.data_type,src:e.src,hint:e.hint,title:e.title,text:e.text,answer:e.answer,start:e.start,end:e.end}):"text"===e.data_type?{data_type:e.data_type,src:e.src,hint:e.hint,title:e.title,text:e.text,answer:e.answer,start:e.start,end:e.end}:void 0);t?Q(e):alert("영상 주소를 다시 확인해 주세요")}else alert("정답을 체크해 주세요")},Q=e=>{Promise.all([...U.current].map((e,a)=>{void 0!==e&&new(o()).S3.ManagedUpload({params:{ACL:"public-read",Bucket:F,Key:`${t}/${a}.jpg`,Body:U.current[a]}}).promise()})).then(()=>{let a=!1;null!==q[0]&&(new(o()).S3.ManagedUpload({params:{ACL:"public-read",Bucket:F,Key:`${t}/main_img.jpg`,Body:q[0]}}).promise(),a=!0),$(e,a)})},$=(e,a)=>{(0,h.default)({url:process.env.REACT_APP_SERVER_URL+"/make_quezeshow",method:"POST",data:{quezeshow_type:n,password:g,uuid:t,queze_title:B.current.value,queze_explain_text:T.current.value,content_object:e,choice:C,correct_choice:k,time:V.current.value,main_img_tinyint:a,user_id:O.current.value,date:Date.now(),tag:R},headers:{"Content-Type":"application/json",Authorization:(0,p.hP)()}}).then(e=>{"토큰 만료"===e.data?(0,p.o6)((e,t)=>{$(e,t)}):(E(!0),localStorage.setItem(t,g))})},Y=e=>{if(e.preventDefault(),"Enter"===e.key){let t=e.target.value;e.target.value="",L(e=>[...e,t])}};return(0,s.jsxs)("form",{className:"make_quezeshow_root",ref:P,action:process.env.REACT_APP_SERVER_URL+"/make_quezeshow",method:"POST",target:"iframe",children:[s.jsx("iframe",{id:"iframe",name:"iframe",style:{display:"none"}}),D?s.jsx(d.Z,{pending:D,password:g,setPassword_popup:E}):null,s.jsx(u.default,{}),s.jsx("canvas",{ref:M,hidden:!0}),(0,s.jsxs)("section",{className:"make_quezeshow_queze_title_explain_section",children:["multiple"===n?s.jsx("input",{className:"title",placeholder:"객관식 퀴즈 주제",ref:B,name:"queze_title"}):"vote"===n?s.jsx("input",{className:"title",placeholder:"설문조사 주제",ref:B,name:"queze_title"}):"descriptive"===n?s.jsx("input",{className:"title",placeholder:"서술형 퀴즈 주제",ref:B,name:"queze_title"}):"ox"===n?s.jsx("input",{className:"title",placeholder:"O,X 퀴즈 주제",ref:B,name:"queze_title"}):null,s.jsx("textarea",{onChange:p.VF,placeholder:"부가 설명",rows:1,ref:T,maxLength:200,name:"quezeshowqueze_explain_text"}),(0,p.bg)()?s.jsx("textarea",{onChange:p.VF,readOnly:!0,placeholder:(0,p.n5)(),rows:1,ref:O,maxLength:30,name:"quezeshowqueze_explain_text"}):s.jsx("textarea",{onChange:p.VF,placeholder:"제작자 아이디 ex)developer",rows:1,ref:O,maxLength:30,name:"quezeshowqueze_explain_text"}),s.jsx("input",{type:"text",className:"title",placeholder:"테그 추가(엔터 클릭)",onKeyUp:e=>Y(e)}),"vote"!==n?s.jsx(i.default,{tag_arr:R,droptag:e=>{let t=R.filter((t,a)=>a!==Number(e));L(e=>[...t])}}):null,s.jsx(_.default,{quezeshow_type_clicked_btn:n,time_ref:V,time_checkbox:v,setTime_checkbox:y})]}),s.jsx(m.default,{main_img:q,change_img:W,onpaste:H,delete_thumnail:e=>{e.preventDefault(),S(e=>[null,null])}}),s.jsx("div",{className:"queze_list_v2",children:A.map((e,t)=>s.jsx(x.default,{file_ref:U,index:t,quezeshow_type_clicked_btn:n,content_object:f,setContent_object:w,change_img:W,onpaste:H,choice:C,setChoice:N,correct_choice:k,setCorrect_choice:z,setContent_state:b,content_state:A},t))}),s.jsx("input",{type:"button",className:"all_btn make_quezeshow_addbtn",onClick:e=>{e.preventDefault();let t=[...A,A.length+1];b(e=>[...t]),w(e=>[...e,{data_type:null,src:"",title:"",text:"",answer:"",start:0,end:0,hint:""}]),"multiple"===n?(N(e=>[...e,["",""]]),z(e=>[...e,""])):"descriptive"===n?z(e=>[...e,[]]):"ox"===n&&z(e=>[...e,0])},value:"+",title:"선택지 추가"}),s.jsx("input",{type:"button",value:"완료",className:"all_btn make_quezeshow_submintbtn",onClick:e=>{0!==A.length&&J(e)}})]})};n()}catch(e){n(e)}})},7179:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.r(t),a.d(t,{default:()=>r});var s=a(997);a(6689);var l=a(5194),i=e([l]);l=(i.then?(await i)():i)[0];let r=({quezeshow_type_clicked_btn:e,time_ref:t,time_checkbox:a,setTime_checkbox:n})=>s.jsx("section",{className:"make_quezeshow_queze_option",children:"vote"===e?(0,s.jsxs)("div",{className:"make_quezeshow_queze_option1",children:[s.jsx("div",{}),s.jsx("div",{children:s.jsx("input",{type:"number",hidden:!0,ref:t,defaultValue:-1,name:"settime"})})]}):(0,s.jsxs)("div",{className:"make_quezeshow_queze_option1",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("circle",{cx:"12",cy:"14",r:"8",stroke:"white"}),s.jsx("path",{d:"M12 14L12 11",stroke:"white",strokeLinecap:"round"}),s.jsx("path",{d:"M17.5 7.5L19 6",stroke:"white",strokeLinecap:"round"}),s.jsx("path",{d:"M10.0681 2.37059C10.1821 2.26427 10.4332 2.17033 10.7825 2.10332C11.1318 2.03632 11.5597 2 12 2C12.4403 2 12.8682 2.03632 13.2175 2.10332C13.5668 2.17033 13.8179 2.26427 13.9319 2.37059",stroke:"white",strokeLinecap:"round"})]}),s.jsx("p",{children:"제한 시간"}),s.jsx("input",{type:"checkbox",id:"checkbox",onChange:()=>{n(e=>!e)}})]}),s.jsx("div",{children:a?(0,s.jsxs)(s.Fragment,{children:[s.jsx("input",{type:"number",ref:t,value:5,min:0,max:100,name:"settime"}),"초"]}):s.jsx("input",{type:"number",ref:t,defaultValue:-1,hidden:!0,name:"settime"})})]})});n()}catch(e){n(e)}})},5676:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.r(t),a.d(t,{default:()=>r});var s=a(997);a(6689);var l=a(8313),i=e([l]);l=(i.then?(await i)():i)[0];let r=({main_img:e,change_img:t,onpaste:a,delete_thumnail:n})=>(0,s.jsxs)("section",{className:"make_quezeshow_main_img_content_root",children:[s.jsx("p",{children:"섬네일"}),s.jsx("p",{children:"선택하지 않으면 가장 먼저 들어온 이미지를 사용합니다"}),s.jsx("div",{className:"make_quezeshow_content_content_img_area",children:null===e[1]?(0,s.jsxs)("section",{className:"img_select_area",children:[s.jsx("input",{id:"file",type:"file",className:"make_quezeshow_content_file allbtn",onChange:e=>{t(e,null,"main_img")},onDragEnter:l.xj,onDragLeave:l._}),s.jsx("div",{className:"img_select_area_onpaste allbtn",onPaste:e=>a(e,null,"main_img"),children:s.jsx("p",{className:"allbtn",children:"이미지 붙여 넣기"})})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx("img",{src:e[1],className:"make_quezeshow_content_img"}),s.jsx("button",{className:"all_btn",type:"button",title:"섬네일 삭제",onClick:e=>{e.preventDefault(),n(e)},children:"X"})]})})]});n()}catch(e){n(e)}})},4074:(e,t,a)=>{a.r(t),a.d(t,{default:()=>s});var n=a(997);a(6689);let s=({tag:e,change_tag:t,droptag:a,tag_arr:s})=>n.jsx("div",{className:"tag_area",children:s.map((e,t)=>(0,n.jsxs)("div",{children:[n.jsx("p",{id:"tag",value:"이미지퀴즈",children:e}),n.jsx("button",{type:"button",className:"all_btn",onClick:e=>{e.preventDefault(),a(t)},children:"x"})]},t))})},7882:(e,t,a)=>{a.a(e,async(e,n)=>{try{a.r(t),a.d(t,{default:()=>c});var s=a(997);a(6689);var l=a(8313),i=a(4262),r=e([l]);l=(r.then?(await r)():r)[0];let c=()=>(0,s.jsxs)("header",{className:"Main2_header",children:[s.jsx("div",{className:"header_rogo",children:s.jsx("img",{src:i.Z})}),s.jsx("button",{className:"all_btn",type:"button",onClick:()=>{(0,l.Nd)("/")},children:"퀴즈쇼"}),s.jsx("button",{className:"all_btn ",type:"button",onClick:()=>{(0,l.Nd)("/community")},children:"제안하기"}),s.jsx("button",{className:"all_btn ",type:"button",onClick:()=>{(0,l.Nd)("/guide_main")},children:"공지사항"}),s.jsx("button",{className:"all_btn",type:"button",onClick:()=>(0,l.Nd)("/produce"),children:"퀴즈쇼 제작"}),(0,l.bg)()?s.jsx("button",{className:"all_btn header_login_btn",type:"button",onClick:()=>{(0,l.Nd)("/profile")},children:"프로필"}):(0,s.jsxs)("button",{className:"all_btn header_login_btn",type:"button",onClick:()=>{(0,l.Nd)("/login")},children:["로그인",s.jsx("br",{}),"회원가입"]})]});n()}catch(e){n(e)}})}};