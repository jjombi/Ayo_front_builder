(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9634],{26914:function(e,t,a){"use strict";let n;a.r(t),a.d(t,{default:function(){return A}});var s=a(85893),l=a(67294),r=a(4074),i={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let o=new Uint8Array(16),c=[];for(let e=0;e<256;++e)c.push((e+256).toString(16).slice(1));var u=function(e,t,a){if(i.randomUUID&&!t&&!e)return i.randomUUID();let s=(e=e||{}).random||(e.rng||function(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(o)})();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){a=a||0;for(let e=0;e<16;++e)t[a+e]=s[e];return t}return function(e,t=0){return c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]}(s)},d=a(98690),p=a.n(d),h=a(8313),m=e=>{let{setLoading_popup_state:t,pending:a,password:n,setPassword_popup:l}=e;return(0,s.jsxs)("div",{className:"loading_popup",children:[a?(0,s.jsx)("p",{children:"업로드 중"}):(0,s.jsx)("p",{children:"업로드 완료 됨"}),(0,s.jsx)("br",{}),(0,s.jsxs)("p",{children:[(0,s.jsx)("span",{children:n}),"는 콘텐츠 수정시 사용되는 비밀번호 입니다. ",(0,s.jsx)("br",{}),"잘 기억해 주세요"]}),(0,s.jsx)("input",{className:"all_btn",type:"button",onClick:()=>{(0,h.sI)(n)},value:"비밀번호 복사하기",readOnly:!0}),(0,s.jsx)("button",{type:"button",className:"all_btn",onClick:()=>{confirm("비밀번호는 더이상 확인 할 수 없습니다")&&window.location.reload()},children:"닫기"})]})},_=a(31602),x=a(6154),g=a(87179),f=a(85676),j=a(92637),b=a(34155),A=()=>{let e=useLocation(),[t,a]=(0,l.useState)(""),[n,i]=(0,l.useState)(),[o,c]=(0,l.useState)(""),[d,A]=(0,l.useState)([]),[w,y]=(0,l.useState)([]),[v,C]=(0,l.useState)(!1),[N,k]=(0,l.useState)([]),[z,q]=(0,l.useState)([]),[D,E]=(0,l.useState)([null,null]),[S,R]=(0,l.useState)(!1),[U,L]=(0,l.useState)([]),V=(0,l.useRef)([]),B=(0,l.useRef)(),P=(0,l.useRef)(),I=(0,l.useRef)(),M=(0,l.useRef)(),T=(0,l.useRef)(),O=(0,l.useRef)(),F="dlworjs",K=b.env.REACT_APP_AWS_ACCESS_KEY_ID,H=b.env.REACT_APP_AWS_SECRET_ACCESS_KEY;p().config.update({region:"ap-northeast-2",accessKeyId:K,secretAccessKey:H}),(0,l.useEffect)(()=>{let t=u(),n=Math.random().toString(36).substr(2,5);a(e=>t),c(e=>n),i(t=>e.state.quezeshow_type),(0,h.Md)()},[]);let W=(e,t,a)=>{e.clipboardData.files.length&&G(e.clipboardData.files,t,a)},X=(e,t,a)=>{e.preventDefault(),G(e.target.files,t,a)},G=(e,t,a)=>{let n=[...e],s=new FileReader;s.readAsDataURL(n[0]),s.onload=e=>{let n=new Image;if(n.src=s.result,n.name=e.name,n.onload=()=>{Z(n,t,a)},"main_img"!==a){let e=[...w];e[t].src=s.result,y(t=>[...e])}else D[1]=s.result,E(e=>[...D])}},Z=(e,t,a)=>{let n=I.current,s=e.width,l=e.height;s>l?s/l<=2&&s>4e3&&(s=e.width/2,l=e.height/2):s/l<=2&&l>4e3&&(s=e.width/2,l=e.height/2),n.width=s,n.height=l,n.getContext("2d").drawImage(e,0,0,s,l);let r=n.toDataURL("image/jpeg",.5),i=window.atob(r.split(",")[1]),o=new Uint8Array(new ArrayBuffer(i.length));for(let e=0;e<i.length;e++)o[e]=i.charCodeAt(e);let c=new File([o.buffer],e.name+".jpg",{type:"image/jpeg"});"main_img"!==a?V.current[t]=c:(D[0]=c,E(e=>[...D]))},J=()=>{let e=!0;return z.map((t,a)=>{""===t&&(e=!1)}),e},Q=async e=>{e.preventDefault();let t=!0;if((0,h.bg)()&&(O.current.value=(0,h.WA)()),""===B.current.value)alert("제목입력해 주세요");else if(""===O.current.value)alert("유저 아이디를 입력해 주세요");else if(J()){let e=w.map((e,a)=>"image"===e.data_type?""===e.src||"data:image/jpeg;base64,"===e.src?{data_type:e.data_type,hint:e.hint,title:e.title,text:e.text,img:!1}:{data_type:e.data_type,hint:e.hint,title:e.title,text:e.text,img:!0}:"audio"===e.data_type?(""===e.src&&(t=!1),{data_type:e.data_type,src:e.src,hint:e.hint,title:e.title,text:e.text,answer:e.answer,start:e.start,end:e.end}):"video"===e.data_type?(""===e.src&&(t=!1),{data_type:e.data_type,src:e.src,hint:e.hint,title:e.title,text:e.text,answer:e.answer,start:e.start,end:e.end}):"text"===e.data_type?{data_type:e.data_type,src:e.src,hint:e.hint,title:e.title,text:e.text,answer:e.answer,start:e.start,end:e.end}:void 0);t?Y(e):alert("영상 주소를 다시 확인해 주세요")}else alert("정답을 체크해 주세요")},Y=e=>{Promise.all([...V.current].map((e,a)=>{void 0!==e&&new(p()).S3.ManagedUpload({params:{ACL:"public-read",Bucket:F,Key:"".concat(t,"/").concat(a)+".jpg",Body:V.current[a]}}).promise()})).then(()=>{let a=!1;null!==D[0]&&(new(p()).S3.ManagedUpload({params:{ACL:"public-read",Bucket:F,Key:"".concat(t,"/main_img.jpg"),Body:D[0]}}).promise(),a=!0),$(e,a)})},$=(e,a)=>{(0,x.Z)({url:b.env.REACT_APP_SERVER_URL+"/make_quezeshow",method:"POST",data:{quezeshow_type:n,password:o,uuid:t,queze_title:B.current.value,queze_explain_text:M.current.value,content_object:e,choice:N,correct_choice:z,time:T.current.value,main_img_tinyint:a,user_id:O.current.value,date:Date.now(),tag:U},headers:{"Content-Type":"application/json",Authorization:(0,h.hP)()}}).then(e=>{"토큰 만료"===e.data?(0,h.o6)((e,t)=>{$(e,t)}):(R(!0),localStorage.setItem(t,o))})},ee=e=>{if(e.preventDefault(),"Enter"===e.key){let t=e.target.value;e.target.value="",L(e=>[...e,t])}};return(0,s.jsxs)("form",{className:"make_quezeshow_root",ref:P,action:b.env.REACT_APP_SERVER_URL+"/make_quezeshow",method:"POST",target:"iframe",children:[(0,s.jsx)("iframe",{id:"iframe",name:"iframe",style:{display:"none"}}),S?(0,s.jsx)(m,{pending:S,password:o,setPassword_popup:R}):null,(0,s.jsx)(_.default,{}),(0,s.jsx)("canvas",{ref:I,hidden:!0}),(0,s.jsxs)("section",{className:"make_quezeshow_queze_title_explain_section",children:["multiple"===n?(0,s.jsx)("input",{className:"title",placeholder:"객관식 퀴즈 주제",ref:B,name:"queze_title"}):"vote"===n?(0,s.jsx)("input",{className:"title",placeholder:"설문조사 주제",ref:B,name:"queze_title"}):"descriptive"===n?(0,s.jsx)("input",{className:"title",placeholder:"서술형 퀴즈 주제",ref:B,name:"queze_title"}):"ox"===n?(0,s.jsx)("input",{className:"title",placeholder:"O,X 퀴즈 주제",ref:B,name:"queze_title"}):null,(0,s.jsx)("textarea",{onChange:h.VF,placeholder:"부가 설명",rows:1,ref:M,maxLength:200,name:"quezeshowqueze_explain_text"}),(0,h.bg)()?(0,s.jsx)("textarea",{onChange:h.VF,readOnly:!0,placeholder:(0,h.n5)(),rows:1,ref:O,maxLength:30,name:"quezeshowqueze_explain_text"}):(0,s.jsx)("textarea",{onChange:h.VF,placeholder:"제작자 아이디 ex)developer",rows:1,ref:O,maxLength:30,name:"quezeshowqueze_explain_text"}),(0,s.jsx)("input",{type:"text",className:"title",placeholder:"테그 추가(엔터 클릭)",onKeyUp:e=>ee(e)}),"vote"!==n?(0,s.jsx)(r.default,{tag_arr:U,droptag:e=>{let t=U.filter((t,a)=>a!==Number(e));L(e=>[...t])}}):null,(0,s.jsx)(g.default,{quezeshow_type_clicked_btn:n,time_ref:T,time_checkbox:v,setTime_checkbox:C})]}),(0,s.jsx)(f.default,{main_img:D,change_img:X,onpaste:W,delete_thumnail:e=>{e.preventDefault(),E(e=>[null,null])}}),(0,s.jsx)("div",{className:"queze_list_v2",children:d.map((e,t)=>(0,s.jsx)(j.default,{file_ref:V,index:t,quezeshow_type_clicked_btn:n,content_object:w,setContent_object:y,change_img:X,onpaste:W,choice:N,setChoice:k,correct_choice:z,setCorrect_choice:q,setContent_state:A,content_state:d},t))}),(0,s.jsx)("input",{type:"button",className:"all_btn make_quezeshow_addbtn",onClick:e=>{e.preventDefault();let t=[...d,d.length+1];A(e=>[...t]),y(e=>[...e,{data_type:null,src:"",title:"",text:"",answer:"",start:0,end:0,hint:""}]),"multiple"===n?(k(e=>[...e,["",""]]),q(e=>[...e,""])):"descriptive"===n?q(e=>[...e,[]]):"ox"===n&&q(e=>[...e,0])},value:"+",title:"선택지 추가"}),(0,s.jsx)("input",{type:"button",value:"완료",className:"all_btn make_quezeshow_submintbtn",onClick:e=>{0!==d.length&&Q(e)}})]})}},87179:function(e,t,a){"use strict";a.r(t);var n=a(85893);a(67294),a(26914),t.default=e=>{let{quezeshow_type_clicked_btn:t,time_ref:a,time_checkbox:s,setTime_checkbox:l}=e;return(0,n.jsx)("section",{className:"make_quezeshow_queze_option",children:"vote"===t?(0,n.jsxs)("div",{className:"make_quezeshow_queze_option1",children:[(0,n.jsx)("div",{}),(0,n.jsx)("div",{children:(0,n.jsx)("input",{type:"number",hidden:!0,ref:a,defaultValue:-1,name:"settime"})})]}):(0,n.jsxs)("div",{className:"make_quezeshow_queze_option1",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("circle",{cx:"12",cy:"14",r:"8",stroke:"white"}),(0,n.jsx)("path",{d:"M12 14L12 11",stroke:"white",strokeLinecap:"round"}),(0,n.jsx)("path",{d:"M17.5 7.5L19 6",stroke:"white",strokeLinecap:"round"}),(0,n.jsx)("path",{d:"M10.0681 2.37059C10.1821 2.26427 10.4332 2.17033 10.7825 2.10332C11.1318 2.03632 11.5597 2 12 2C12.4403 2 12.8682 2.03632 13.2175 2.10332C13.5668 2.17033 13.8179 2.26427 13.9319 2.37059",stroke:"white",strokeLinecap:"round"})]}),(0,n.jsx)("p",{children:"제한 시간"}),(0,n.jsx)("input",{type:"checkbox",id:"checkbox",onChange:()=>{l(e=>!e)}})]}),(0,n.jsx)("div",{children:s?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("input",{type:"number",ref:a,value:5,min:0,max:100,name:"settime"}),"초"]}):(0,n.jsx)("input",{type:"number",ref:a,defaultValue:-1,hidden:!0,name:"settime"})})]})})}},85676:function(e,t,a){"use strict";a.r(t);var n=a(85893);a(67294);var s=a(8313);t.default=e=>{let{main_img:t,change_img:a,onpaste:l,delete_thumnail:r}=e;return(0,n.jsxs)("section",{className:"make_quezeshow_main_img_content_root",children:[(0,n.jsx)("p",{children:"섬네일"}),(0,n.jsx)("p",{children:"선택하지 않으면 가장 먼저 들어온 이미지를 사용합니다"}),(0,n.jsx)("div",{className:"make_quezeshow_content_content_img_area",children:null===t[1]?(0,n.jsxs)("section",{className:"img_select_area",children:[(0,n.jsx)("input",{id:"file",type:"file",className:"make_quezeshow_content_file allbtn",onChange:e=>{a(e,null,"main_img")},onDragEnter:s.xj,onDragLeave:s._}),(0,n.jsx)("div",{className:"img_select_area_onpaste allbtn",onPaste:e=>l(e,null,"main_img"),children:(0,n.jsx)("p",{className:"allbtn",children:"이미지 붙여 넣기"})})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("img",{src:t[1],className:"make_quezeshow_content_img"}),(0,n.jsx)("button",{className:"all_btn",type:"button",title:"섬네일 삭제",onClick:e=>{e.preventDefault(),r(e)},children:"X"})]})})]})}},4074:function(e,t,a){"use strict";a.r(t);var n=a(85893);a(67294),t.default=e=>{let{tag:t,change_tag:a,droptag:s,tag_arr:l}=e;return(0,n.jsx)("div",{className:"tag_area",children:l.map((e,t)=>(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{id:"tag",value:"이미지퀴즈",children:e}),(0,n.jsx)("button",{type:"button",className:"all_btn",onClick:e=>{e.preventDefault(),s(t)},children:"x"})]},t))})}},31602:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return r}});var n=a(85893);a(67294);var s=a(8313),l={src:"/_next/static/media/NEWLOGO.a5041886.png",height:322,width:290,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAICAMAAAAC2hU0AAAAVFBMVEVqAOcwBH0+B5gAAABaDdZxGvNaD8pmEO5WDNxGB61fDuFHCqthDuplHtxfDuRHCupKCbRKC8lWDc5UDsBPCr1oIsNkD+xTDMd3E/9jD/+OLOBoDPVlaQ9LAAAAF3RSTlMBIUMJ/PN+7q820rK+4sj42Inoavjz/pMKkAoAAAAJcEhZcwAACxMAAAsTAQCanBgAAAA9SURBVHicHcVHEoAgEATAETaaFVwM//+npX1pAEA3pD897TtNzHAb53Uv6COikUOpUX0Ey6XKt8C2nOXwFzVjAhnZIdGJAAAAAElFTkSuQmCC",blurWidth:7,blurHeight:8},r=()=>(0,n.jsxs)("header",{className:"Main2_header",children:[(0,n.jsx)("div",{className:"header_rogo",children:(0,n.jsx)("img",{src:l})}),(0,n.jsx)("button",{className:"all_btn",type:"button",onClick:()=>{(0,s.Nd)("/")},children:"퀴즈쇼"}),(0,n.jsx)("button",{className:"all_btn ",type:"button",onClick:()=>{(0,s.Nd)("/community")},children:"제안하기"}),(0,n.jsx)("button",{className:"all_btn ",type:"button",onClick:()=>{(0,s.Nd)("/guide_main")},children:"공지사항"}),(0,n.jsx)("button",{className:"all_btn",type:"button",onClick:()=>(0,s.Nd)("/produce"),children:"퀴즈쇼 제작"}),(0,s.bg)()?(0,n.jsx)("button",{className:"all_btn header_login_btn",type:"button",onClick:()=>{(0,s.Nd)("/profile")},children:"프로필"}):(0,n.jsxs)("button",{className:"all_btn header_login_btn",type:"button",onClick:()=>{(0,s.Nd)("/login")},children:["로그인",(0,n.jsx)("br",{}),"회원가입"]})]})},28022:function(){}}]);