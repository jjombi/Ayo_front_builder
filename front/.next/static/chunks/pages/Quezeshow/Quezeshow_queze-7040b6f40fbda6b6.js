(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5240],{79317:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Quezeshow/Quezeshow_queze",function(){return s(74375)}])},25061:function(e,t,s){"use strict";var l=s(85893),n=s(67294);t.Z=e=>{let{position_type:t,unit:s}=e,a=(0,n.useRef)(!1);return(0,n.useEffect)(()=>{if(a.current)return;let e=document.createElement("ins"),t=document.createElement("script");e.className="kakao_ad_area",e.style.display="none;",t.async=!0,t.type="text/javascript",t.src="//t1.daumcdn.net/kas/static/ba.min.js",e.setAttribute("data-ad-unit","".concat(s)),document.querySelector(".aside__kakaoAdFit").appendChild(e),document.querySelector(".aside__kakaoAdFit").appendChild(t),a.current=!0},[]),(0,l.jsx)("aside",{className:"aside__kakaoAdFit ".concat(t)})}},26184:function(e,t,s){"use strict";s.r(t);var l=s(85893),n=s(67294);t.default=()=>{let e=(0,n.useRef)(null);return(0,n.useEffect)(()=>{let t=e.current,s=t.getContext("2d"),l=t.clientWidth,n=t.clientHeight,a=t.width/50*2.5,i=()=>{s.clearRect(0,0,l,n);let e=0;for(let l=0;l<50;l++){let i=Math.random()*n,c=l/50*360;s.fillStyle="hsl(".concat(c,", 100%, 50%)"),s.fillRect(e,t.height-i,a,i),s.beginPath(),e+=a+1}setTimeout(()=>{requestAnimationFrame(i)},300)};return i(),()=>{cancelAnimationFrame(i)}},[]),(0,l.jsx)("canvas",{style:{Width:"320px",Height:"180px",display:"flex"},ref:e})}},74375:function(e,t,s){"use strict";s.r(t);var l=s(85893),n=s(67294),a=s(31602),i=s(6154),c=s(95070),r=s(81551),u=s(25061),o=s(96190),d=s(77812),_=s(54527),h=s(79182),m=s(67412);s(63310);var x=s(8313),j=s(34155);t.default=()=>{let[e,t]=useSearchParams(),s=e.get("roomnum"),p=e.get("uuid"),g=e.get("quezeshow_type"),f=e.get("title"),b=e.get("explain_text"),[z,q]=(0,n.useState)([]),[v,y]=(0,n.useState)([]),[w,k]=(0,n.useState)(!1),[E,N]=(0,n.useState)({img:"data:image/jpeg;base64,",title:"",text:""}),[R,C]=(0,n.useState)(null),[S,A]=(0,n.useState)(!1),[P,F]=(0,n.useState)(0),[T,V]=(0,n.useState)({queze_state:!1,is_correct:null}),[Z,L]=(0,n.useState)(null),[U,H]=(0,n.useState)(0),Q=(0,n.useRef)(0),G=(0,n.useRef)(),I=(0,n.useRef)();(0,n.useEffect)(()=>{(0,i.Z)({url:j.env.REACT_APP_SERVER_URL+"/quezeshow_checking_existence",method:"GET",params:{roomnum:s,uuid:p}}).then(e=>{0!==e.data.length?0===e.data[0].existence?alert("없는 콘텐츠 입니다"):((0,i.Z)({url:j.env.REACT_APP_SERVER_URL+"/quezeshowqueze",method:"GET",params:{roomnum:s}}).then(e=>{if("vote"===g)q(t=>[...e.data]);else{let t=(0,x.TV)(e.data);q(e=>[...t])}}),(0,i.Z)({url:j.env.REACT_APP_SERVER_URL+"/quezeshowcomment",method:"GET",params:{roomnum:s}}).then(e=>{y(t=>[...e.data])})):alert("없는 콘텐츠 입니다")})},[s]);let M=()=>{(0,x.Nd)("/quezeshow_result?uuid=".concat(p,"&title=").concat(f,"&explain_text=").concat(b,"&quezeshow_type=").concat(g,"&roomnum=").concat(s))},O=()=>{let e;if("multiple"===g)e=R===Z;else if("descriptive"===g)for(let t=0;t<Z.length;t++){if(G.current.value.trim()===Z[t].trim()){e=!0;break}e=!1}else"vote"===g?e=G.current.value.split(" ").join("")===z[P].answer.split(",").join("").split(" ").join(""):"ox"===g&&(e=R===Z);return e},W=()=>{if(T.queze_state){if(P+1>z.length);else{F(e=>e+1),C(e=>"");let e={queze_state:!1,is_correct:null};V(t=>e),console.log("맞은 문제 수",U)}}else if(O()){let e={queze_state:!0,is_correct:!0};V(t=>e),H(e=>e+1)}else{let e={queze_state:!0,is_correct:!1};V(t=>e)}};return(0,l.jsxs)("div",{className:"quezeshow_queze_root",children:[S?(0,l.jsx)(o.Z,{setPopup_state:A,uuid:p,roomName:"",title:f,publicAccess:null,type:null,typeWhere:"modify_password",quezeshow_type:g,queze_type:queze_type}):null,(0,l.jsx)(a.default,{}),window.innerWidth<=750?(0,l.jsx)(u.Z,{unit:"DAN-87ortfszgGZjj16M"}):null,P>=z.length&!T.queze_state?(0,l.jsx)(h.default,{uuid:p,all_queze_num:z.length,correct_all_queze_num:U,setShow_index:F,setClicked:C,setCorrect_state:V,setCorrect_count:H,resetContent_state:()=>{let e=(0,x.TV)(z);q(t=>[...e])},correct_count:U}):(0,l.jsxs)(l.Fragment,{children:["vote"!==g?(0,l.jsx)("button",{className:"all_btn",title:z.length+"문제중 "+U+"문제 정답",onClick:e=>{if(T.queze_state){C(e=>"");let e={queze_state:!1,is_correct:null};V(t=>e),F(e=>z.length)}else F(e=>z.length)},children:"그만하기"}):null,(0,l.jsx)("h1",{children:f}),(0,l.jsx)("h1",{children:b}),w?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("section",{className:"quezeshow_after_submit_root",children:[(0,l.jsxs)("div",{className:"quezeshow_after_submit_submited_object",children:["data:image/jpeg;base64,"===E.img?null:(0,l.jsx)("img",{src:E.img}),(0,l.jsx)("p",{className:"quezeshow_after_submit_submited_object_title",children:E.title}),(0,l.jsx)("p",{className:"quezeshow_after_submit_submited_object_text",children:E.text})]}),"vote"===g?(0,l.jsx)("div",{className:"comment_area quezeshow_after_submi_comment_area",children:(0,l.jsxs)("div",{className:"quezeshow_result_div",children:[(0,l.jsx)("input",{type:"text",ref:I,id:1,placeholder:"".concat(E.title,"을/를 선택한 이유")}),(0,l.jsx)("button",{type:"button",onClick:()=>{let e=new Date,t=e.getFullYear(),l=("0"+(e.getMonth()+1)).slice(-2),n=("0"+e.getDate()).slice(-2),a=("0"+e.getHours()).slice(-2),c=("0"+e.getMinutes()).slice(-2),r=("0"+e.getSeconds()).slice(-2);(0,i.Z)({url:j.env.REACT_APP_SERVER_URL+"/quezeshowcomment_upload",method:"POST",data:{roomnum:s,uuid:p,title:z[R].title,text:I.current.value,date:t+"-"+l+"-"+n+" "+a+":"+c+":"+r},headers:{"Content-Type":"application/json"}}).then(e=>{(0,i.Z)({url:j.env.REACT_APP_SERVER_URL+"/quezeshowcomment",method:"GET",params:{roomnum:s}}).then(e=>{y(t=>[...e.data])})})},className:"all_btn",children:"^"})]})}):null]}),(0,l.jsxs)("section",{className:"quezeshow_after_submit_comment_root",children:[v.map((e,t)=>(0,l.jsx)(r.default,{title:e.title,text:e.text,likes:e.likes,uuid:e.uuid},t)),(0,l.jsxs)("div",{className:"main2_a_queze_btn_area",children:[(0,l.jsx)("button",{type:"button",onClick:()=>{k(e=>!e)},children:"다시하기"}),(0,l.jsx)("button",{type:"button",onClick:M,children:"결과 보기"})]})]})]}):(0,l.jsxs)(l.Fragment,{children:["vote"===g?(0,l.jsx)("div",{className:"queze_list",children:z.map((e,t)=>(0,l.jsx)(c.default,{index:t,img:e.img,text:e.text,title:e.title,uuid:e.uuid,clicked:R,setClicked:C,uuid2:e.uuid2,value:null,data_type:e.data_type},t))}):"multiple"===g?(0,l.jsx)(l.Fragment,{children:0!==z.length?(0,l.jsx)(d.default,{img:z[P].img,uuid2:z[P].uuid2,data_type:z[P].data_type,start:z[P].start,end:z[P].end,title:z[P].title,text:z[P].text,clicked:R,setClicked:C,correct_choice:Z,setCorrect_choice:L,correct_state:T,hint:z[P].hint,timer_ref:Q}):null}):"descriptive"===g?(0,l.jsx)(l.Fragment,{children:0!==z.length?(0,l.jsx)(_.default,{title:z[P].title,descriptive_input_ref:G,correct_checker:O,next_queze:W,img:z[P].img,uuid2:z[P].uuid2,data_type:z[P].data_type,start:z[P].start,end:z[P].end,text:z[P].text,correct_choice:Z,setCorrect_choice:L,correct_state:T,hint:z[P].hint,timer_ref:Q}):null}):"ox"===g?(0,l.jsx)(l.Fragment,{children:0!==z.length?(0,l.jsx)(m.default,{img:z[P].img,uuid2:z[P].uuid2,data_type:z[P].data_type,start:z[P].start,end:z[P].end,title:z[P].title,text:z[P].text,clicked:R,setClicked:C,correct_choice:Z,setCorrect_choice:L,correct_state:T,hint:z[P].hint,timer_ref:Q}):null}):null,(0,l.jsx)("div",{className:"main2_a_queze_btn_area",children:"vote"===g?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{type:"button",onClick:()=>{if(null!==R){(0,i.Z)({url:j.env.REACT_APP_SERVER_URL+"/quezeshowqueze_plus_value",method:"POST",data:{uuid2:z[R].uuid2}}).then(e=>{}),k(e=>!e);let e={img:"data:image/jpeg;base64,"+z[R].img,title:z[R].title,text:z[R].text};N(t=>e)}},children:"완료"}),(0,l.jsx)("button",{type:"button",onClick:M,children:"결과 보기"})]}):(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("button",{type:"button",onClick:W,children:">"})})})]})]})]})}},95070:function(e,t,s){"use strict";s.r(t);var l=s(85893),n=s(67294);t.default=(0,n.memo)(e=>{let{index:t,img:s,text:a,title:i,uuid:c,clicked:r,setClicked:u,value:o,data_type:d}=e,[_,h]=(0,n.useState)("rgb(239, 239, 239)");return(0,n.useEffect)(()=>{r===t?h(e=>"rgb(199, 199, 199)"):h(e=>"rgb(239, 239, 239)")},[r]),(0,l.jsx)(l.Fragment,{children:""!==r?(0,l.jsxs)("button",{type:"button",className:"quezeshow_queze_content_root all_btn",onClick:()=>{r===t?u(e=>null):u(e=>t)},children:[(0,l.jsx)("h1",{children:t+1}),"data:image/jpeg;base64,"===s||"text"===d?null:(0,l.jsxs)("div",{className:"img_area",children:[(0,l.jsx)("img",{src:s}),(0,l.jsx)("div",{})]}),(0,l.jsxs)("div",{className:"quezeshow_queze_content_title_text_area",children:[(0,l.jsx)("p",{className:"quezeshow_queze_content_title",children:i}),(0,l.jsx)("p",{className:"quezeshow_queze_content_text",children:a}),(0,l.jsx)("div",{style:{backgroundColor:_,width:"100%"}})]})]}):(0,l.jsxs)("div",{className:"quezeshow_queze_content_root quezeshow_queze_content_root_color",children:[(0,l.jsxs)("div",{className:"quezeshow_queze_content_value_p",children:[(0,l.jsxs)("p",{children:[o,"%"]}),(0,l.jsx)("div",{})]}),"data:image/jpeg;base64,"===s||"text"===d?null:(0,l.jsxs)("div",{className:"img_area",children:[(0,l.jsx)("img",{src:s}),(0,l.jsx)("div",{})]}),(0,l.jsxs)("div",{className:"quezeshow_queze_content_title_text_area",children:[(0,l.jsx)("p",{className:"quezeshow_queze_content_title",children:i}),(0,l.jsx)("p",{className:"quezeshow_queze_content_text",children:a}),(0,l.jsx)("div",{style:{width:"".concat(o,"%")}})]})]})})})},67412:function(e,t,s){"use strict";s.r(t);var l=s(85893),n=s(67294),a=s(6154),i=s(72144),c=s(34155);t.default=(0,n.memo)(e=>{let{img:t,data_type:s,uuid2:r,start:u,end:o,title:d,text:_,clicked:h,setClicked:m,correct_choice:x,setCorrect_choice:j,correct_state:p,hint:g,timer_ref:f}=e,[b,z]=(0,n.useState)(!1),q=e=>{m(t=>e.target.id)};return(0,n.useEffect)(()=>{(0,a.Z)({url:c.env.REACT_APP_SERVER_URL+"/select_choice_correct",method:"get",params:{uuid:r}}).then(e=>{console.log("adjfnrlin",e),j(t=>e.data.correct_choice[0].correct_choice),setInterval(()=>{f.current+=100},100)})},[r]),(0,l.jsxs)("section",{className:"Quezeshow_queze_content_type_queze_root",style:{color:"black"},children:[(0,l.jsx)("h1",{children:d}),(0,l.jsx)(i.default,{data_type:s,start:u,end:o,img:t}),!0===p.queze_state?(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("h1",{children:p.is_correct?"정답":"오답"})}):(0,l.jsxs)("section",{children:[(0,l.jsx)("button",{type:"button",id:"0",style:"0"==h?{backgroundColor:"#828282"}:null,onClick:q,children:"O"}),(0,l.jsx)("button",{type:"button",id:"1",style:"1"==h?{backgroundColor:"#828282"}:null,onClick:q,children:"X"})]}),(0,l.jsx)("button",{className:"hint_btn all_btn",onClick:()=>{z(e=>!e)},children:"Hint"}),b?(0,l.jsx)("p",{className:"hint_text",children:""===g||null===g?"없음":g}):null]})})},77812:function(e,t,s){"use strict";s.r(t);var l=s(85893),n=s(67294),a=s(6154),i=s(72144),c=s(34155);t.default=(0,n.memo)(e=>{let{img:t,data_type:s,uuid2:r,start:u,end:o,title:d,text:_,clicked:h,setClicked:m,correct_choice:x,setCorrect_choice:j,correct_state:p,hint:g,timer_ref:f}=e,[b,z]=(0,n.useState)([]),[q,v]=(0,n.useState)(!1);(0,n.useRef)();let y=e=>{m(t=>e.target.id)};return(0,n.useEffect)(()=>{(0,a.Z)({url:c.env.REACT_APP_SERVER_URL+"/select_choice_correct",method:"get",params:{uuid:r}}).then(e=>{console.log(e),z(t=>e.data.choice),j(t=>e.data.correct_choice[0].correct_choice),setInterval(()=>{f.current+=100},100)})},[]),(0,l.jsxs)("section",{className:"Quezeshow_queze_content_type_queze_root",style:{color:"black"},children:[(0,l.jsx)("h1",{children:d}),(0,l.jsx)(i.default,{data_type:s,start:u,end:o,img:t}),!0===p.queze_state?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h1",{children:p.is_correct?"정답":"오답"}),(0,l.jsx)("p",{children:b[x].choice})]}):(0,l.jsx)("section",{children:b.map((e,t)=>(0,l.jsx)("button",{type:"button",id:t,style:h==t?{backgroundColor:"#828282"}:null,onClick:y,children:e.choice},t))}),(0,l.jsx)("button",{className:"hint_btn all_btn",onClick:()=>{v(e=>!e)},children:"Hint"}),q?(0,l.jsx)("p",{className:"hint_text",children:""===g||null===g?"없음":g}):null]})})},54527:function(e,t,s){"use strict";s.r(t);var l=s(85893),n=s(67294),a=s(72144),i=s(6154),c=s(34155);let r=(0,n.forwardRef)(e=>{let{next_queze:t,descriptive_input_ref:s,img:r,data_type:u,uuid2:o,start:d,end:_,title:h,text:m,correct_choice:x,setCorrect_choice:j,correct_state:p,hint:g,timer_ref:f}=e,[b,z]=(0,n.useState)(),[q,v]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{(0,i.Z)({url:c.env.REACT_APP_SERVER_URL+"/select_choice_correct",method:"get",params:{uuid:o}}).then(e=>{let t=e.data.correct_choice.map((e,t)=>e.correct_choice);j(e=>t)})},[o]),(0,l.jsxs)("section",{className:"Quezeshow_queze_content_type_queze_root",children:[!0===p.queze_state?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("h1",{children:[" ",p.is_correct?"정답":"오답"]}),(0,l.jsxs)("h1",{children:["정답 : ",x[0]]})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h1",{className:"type_text_h1",children:h}),(0,l.jsx)(a.default,{data_type:u,start:d,end:_,img:r}),(0,l.jsx)("input",{ref:s,onKeyUp:e=>{"Enter"===e.key&&t()},autoFocus:!0}),(0,l.jsx)("h6",{className:"guide_text",children:"입력후 Enter를 누르세요!"})]}),(0,l.jsx)("button",{className:"hint_btn all_btn",onClick:()=>{v(e=>!e)},children:"Hint"}),q?(0,l.jsx)("p",{className:"hint_text",children:""===g||null===g?"없음":g}):null]})});t.default=(0,n.memo)(r)},72144:function(e,t,s){"use strict";s.r(t);var l=s(85893),n=s(67294),a=s(55821),i=s(26184);t.default=e=>{let{data_type:t,img:s,start:c,end:r}=e,[u,o]=(0,n.useState)(!0);return(0,l.jsx)("div",{className:"quezeshow_video_audio_image_area",children:"video"===t?(0,l.jsx)(a.default,{style:{},id:s,start:c,end:r}):"audio"===t?(0,l.jsxs)("div",{className:"audio_area",children:[u?(0,l.jsx)("div",{className:"loading",children:(0,l.jsx)("p",{children:"로딩중"})}):(0,l.jsx)(i.default,{}),(0,l.jsx)(a.default,{style:{display:"none"},id:s,start:c,end:r,setLoading_state:o})]}):"image"===t?(0,l.jsx)("img",{src:"data:image/jpeg;base64,"+s}):"text"===t?(0,l.jsx)(l.Fragment,{}):null})}},79182:function(e,t,s){"use strict";s.r(t);var l=s(85893),n=s(67294),a=s(8313),i=s(63310);t.default=e=>{let{uuid:t,all_queze_num:s,correct_all_queze_num:c,setShow_index:r,setClicked:u,setCorrect_state:o,setCorrect_count:d,resetContent_state:_,correct_count:h}=e,m=()=>{a.bg&&(0,i.v)({url:"/queze_rank_check",params:{uuid:t}}).then(e=>{let t;0===e.data.length?t=1:e.data.map((e,s)=>{console.log("asdge;g",e),t=h>e.value?e.number:e.number+1}),console.log("rank is :",t)})};return(0,n.useEffect)(()=>{m()},[]),(0,l.jsxs)("section",{className:"Quezeshow_result_correct_root",children:[(0,l.jsxs)("h1",{children:[s,"문제 중 ",c,"문제 정답"]}),(0,l.jsxs)("h1",{children:[Math.floor(c/s*100),"점"]}),(0,l.jsx)("button",{className:"all_btn",onClick:()=>{console.log("replay");let e={queze_state:!1,is_correct:null};r(e=>0),u(e=>null),o(t=>e),d(e=>0),_()},children:"다시하기"})]})}},55821:function(e,t,s){"use strict";s.r(t);var l=s(85893),n=s(67294),a=s(13913);t.default=e=>{let{id:t,start:s,end:i,style:c,setLoading_state:r}=e;return(0,n.useEffect)(()=>{}),(0,l.jsx)(a.Z,{style:c,videoId:t,opts:{height:"270",width:"480",playerVars:{autoplay:0,controls:0,loop:1,iv_load_policy:3,modestbranding:1,fs:0,disablekb:1,start:s,end:i,enablejsapi:1,rel:0}},onReady:e=>{e.target.hideVideoInfo(),e.target.setLoop(),r(e=>!1),e.target.playVideo()},onEnd:e=>{e.target.playVideo(),e.target.hideVideoInfo(),e.target.setLoop()}})}}},function(e){e.O(0,[7192,9332,3913,5667,2888,9774,179],function(){return e(e.s=79317)}),_N_E=e.O()}]);